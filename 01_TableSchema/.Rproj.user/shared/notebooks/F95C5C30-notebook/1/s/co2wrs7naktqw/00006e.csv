"0","library(shiny)"
"0","library(glue)"
"0",""
"0","get_ui <- function(field) {"
"0","  name <- field$name"
"0","  example <- field$example"
"0","  description <- field$description"
"0","  constraints <- field$constraints"
"0","  "
"0","  ui_id <- glue(""ui_{name}"")"
"0","  "
"0","  # REQUIRED"
"0","  if(is.na(constraints$required)) {"
"0","    name_display <- name"
"0","  } else {"
"0","    true_values <- c(""true"", ""TRUE"", ""True"", ""1"")"
"0","    false_values <- c(""false"", ""FALSE"", ""False"", ""0"")"
"0","    required <- constraints$required %in% true_values"
"0","    if(required) {"
"0","      name_display <- glue(""{name}*"")"
"0","    } else {"
"0","      name_display <- names"
"0","    }"
"0","  }"
"0","  "
"0","  # TEXT OUTPUT"
"0","  if(field$type == ""string"") {"
"0","    print(""string"")"
"0","    enum <- constraints$enum"
"0","    if(is.null(enum)) {"
"0","      ui <- textInput(ui_id, description, placeholder = example)"
"0","    } else {"
"0","      enum <- enum[[1]]"
"0","      names(enum) <- enum"
"0","      ui <- selectInput(ui_id, description, choices = enum, multiple = FALSE)"
"0","    }"
"0","  }"
"0",""
"0","  # NUMERIC INPUT"
"0","  if(field$type == ""integer"") {"
"0","    print(""integer"")"
"0","    min_value <- constraints$minimum"
"0","    max_value <- constraints$maximum"
"0","    if(is.null(min_value) & is.null(max_value)) {"
"0","      ui <- numericInput(ui_id, description, value = 0)"
"0","    }"
"0","    if(!is.null(min_value) & is.null(max_value)) {"
"0","      ui <- numericInput(ui_id, description, value = min_value, min = min_value)"
"0","    }"
"0","    if(!is.null(min_value) & !is.null(max_value)) {"
"0","      ui <- numericInput(ui_id, description, value = min_value, min = min_value, max = max_value)"
"0","    }"
"0","  }"
"0","  "
"0","  # DATE INPUT"
"0","  if(field$type == ""date"") {"
"0","    print(""date"")"
"0","    ui <- dateInput(ui_id, description, value = Sys.Date())"
"0","  }"
"0","  "
"0","  return(ui)"
"0","}"
"0",""
"0","get_ui(fields[1, ])"
"1","[1]"
"1"," ""integer"""
"1","
"
